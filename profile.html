<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile ‚Äî Safario</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
    :root {
      --forest:#0e1a13; --forest-mid:#111d14; --forest-card:#152018;
      --gold:#c8a96e; --gold-light:#dfc28e; --gold-dim:#a88a52;
      --cream:#f2ead8; --cream-dim:#c4baa8; --white:#faf8f3;
      --text-muted:#7a8c73; --border:rgba(200,169,110,0.12);
      --border-hover:rgba(200,169,110,0.3); --red:#e87b72;
      --sidebar-w:240px;
    }
    body { background:var(--forest); color:var(--cream); font-family:'DM Sans',sans-serif; font-weight:300; min-height:100vh; display:flex; cursor:none; }

    /* Cursor */
    .cursor      { position:fixed; width:8px; height:8px; background:var(--gold); border-radius:50%; pointer-events:none; z-index:9999; transform:translate(-50%,-50%); }
    .cursor-ring { position:fixed; width:34px; height:34px; border:1px solid rgba(200,169,110,0.4); border-radius:50%; pointer-events:none; z-index:9998; transform:translate(-50%,-50%); transition:all 0.16s ease; }

    /* Sidebar */
    .sidebar { width:var(--sidebar-w); min-height:100vh; background:var(--forest-mid); border-right:1px solid var(--border); display:flex; flex-direction:column; padding:32px 0; position:fixed; left:0; top:0; bottom:0; z-index:50; }
    .logo-container { display:flex; align-items:center; gap:10px; padding:0 28px 32px; border-bottom:1px solid var(--border); margin-bottom:24px; text-decoration:none; }
    .logo-icon { width:32px; height:32px; border:1px solid rgba(200,169,110,0.3); border-radius:50%; display:flex; align-items:center; justify-content:center; color:var(--gold); font-size:13px; }
    .logo-text { font-family:'Cormorant Garamond',serif; font-size:22px; font-weight:400; letter-spacing:0.14em; color:var(--gold-light); text-transform:uppercase; }
    .nav-menu { flex:1; display:flex; flex-direction:column; gap:4px; padding:0 16px; }
    .nav-label { font-size:9px; letter-spacing:0.2em; text-transform:uppercase; color:var(--text-muted); padding:16px 14px 8px; opacity:0.6; }
    .nav-item { display:flex; align-items:center; gap:12px; padding:12px 14px; border-radius:3px; text-decoration:none; color:var(--text-muted); font-size:13px; transition:all 0.25s; position:relative; }
    .nav-item i { font-size:14px; width:16px; text-align:center; }
    .nav-item:hover { color:var(--cream); background:rgba(200,169,110,0.06); }
    .nav-item.active { color:var(--gold); background:rgba(200,169,110,0.08); }
    .nav-item.active::before { content:''; position:absolute; left:0; top:20%; bottom:20%; width:2px; background:var(--gold); border-radius:0 2px 2px 0; }
    .sidebar-footer { padding:20px 16px 0; border-top:1px solid var(--border); margin-top:20px; }
    .sos-button { width:100%; display:flex; align-items:center; justify-content:center; gap:9px; padding:12px; background:rgba(220,80,70,0.12); border:1px solid rgba(220,80,70,0.25); border-radius:3px; color:#e87b72; font-family:'DM Sans',sans-serif; font-size:12px; font-weight:500; letter-spacing:0.12em; text-transform:uppercase; cursor:none; transition:all 0.3s; }
    .sos-button:hover { background:rgba(220,80,70,0.2); border-color:rgba(220,80,70,0.5); }

    /* Main */
    .main-content { margin-left:var(--sidebar-w); flex:1; display:flex; flex-direction:column; min-height:100vh; overflow-y:auto; }
    .main-content::-webkit-scrollbar { width:4px; }
    .main-content::-webkit-scrollbar-thumb { background:rgba(200,169,110,0.2); border-radius:2px; }

    /* Header */
    .profile-header { display:flex; align-items:center; justify-content:space-between; padding:22px 40px; border-bottom:1px solid var(--border); background:rgba(14,26,19,0.9); backdrop-filter:blur(12px); position:sticky; top:0; z-index:40; animation:fadeDown 0.6s ease both; }
    @keyframes fadeDown { from{opacity:0;transform:translateY(-12px)} to{opacity:1;transform:translateY(0)} }
    @keyframes fadeUp   { from{opacity:0;transform:translateY(16px)}  to{opacity:1;transform:translateY(0)} }
    .header-left { display:flex; flex-direction:column; gap:2px; }
    .header-eyebrow { font-size:10px; letter-spacing:0.22em; text-transform:uppercase; color:var(--gold); }
    .header-title { font-family:'Cormorant Garamond',serif; font-size:26px; font-weight:300; color:var(--white); }
    .header-title em { font-style:italic; color:var(--gold); }
    .header-actions { display:flex; align-items:center; gap:12px; }
    .btn-back { display:flex; align-items:center; gap:8px; padding:9px 18px; background:none; border:1px solid var(--border); border-radius:2px; color:var(--cream-dim); font-family:'DM Sans',sans-serif; font-size:12px; letter-spacing:0.1em; text-transform:uppercase; text-decoration:none; cursor:none; transition:all 0.25s; }
    .btn-back:hover { border-color:var(--border-hover); color:var(--cream); }
    
    /* Edit/Save buttons */
    .btn-edit, .btn-save, .btn-cancel {
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:9px 22px;
      border:none;
      border-radius:2px;
      font-family:'DM Sans',sans-serif;
      font-size:12px;
      font-weight:500;
      letter-spacing:0.1em;
      text-transform:uppercase;
      cursor:none;
      transition:all 0.3s;
      white-space:nowrap;
    }
    
    .btn-edit {
      background:none;
      border:1px solid var(--border);
      color:var(--cream-dim);
    }
    .btn-edit:hover {
      border-color:var(--border-hover);
      color:var(--cream);
    }
    
    .btn-save {
      background:var(--gold);
      color:var(--forest);
      position:relative;
      overflow:hidden;
    }
    .btn-save::before {
      content:'';
      position:absolute;
      inset:0;
      background:var(--gold-light);
      transform:translateX(-100%);
      transition:transform 0.35s ease;
    }
    .btn-save:hover::before {
      transform:translateX(0);
    }
    .btn-save span, .btn-edit span, .btn-cancel span {
      position:relative;
      z-index:1;
    }
    
    .btn-cancel {
      background:rgba(220,80,70,0.1);
      border:1px solid rgba(220,80,70,0.3);
      color:var(--red);
    }
    .btn-cancel:hover {
      background:rgba(220,80,70,0.2);
      border-color:rgba(220,80,70,0.5);
    }
    
    .edit-mode-buttons {
      display:none;
    }
    
    .edit-mode-buttons.active {
      display:flex;
      gap:12px;
    }

    /* Profile hero */
    .profile-hero { display:flex; align-items:center; gap:28px; padding:28px 40px; border-bottom:1px solid var(--border); background:linear-gradient(135deg,rgba(45,74,39,0.1) 0%,transparent 60%); animation:fadeUp 0.7s 0.2s ease both; }
    .avatar-wrapper { position:relative; flex-shrink:0; }
    .avatar-circle { width:88px; height:88px; border-radius:50%; border:1px solid rgba(200,169,110,0.35); background:rgba(200,169,110,0.08); display:flex; align-items:center; justify-content:center; font-family:'Cormorant Garamond',serif; font-size:30px; color:var(--gold); overflow:hidden; background-size:cover; background-position:center; }
    .avatar-edit { position:absolute; bottom:0; right:0; width:26px; height:26px; border-radius:50%; background:var(--gold); border:2px solid var(--forest); display:flex; align-items:center; justify-content:center; font-size:11px; color:var(--forest); cursor:none; transition:transform 0.2s; display:none; }
    .avatar-edit.active { display:flex; }
    .avatar-edit:hover { transform:scale(1.1); }
    .profile-name { font-family:'Cormorant Garamond',serif; font-size:32px; font-weight:300; color:var(--white); line-height:1; margin-bottom:5px; }
    .profile-username { font-size:13px; color:var(--gold-dim); margin-bottom:10px; }
    .profile-badges { display:flex; gap:8px; flex-wrap:wrap; }
    .badge { display:inline-flex; align-items:center; gap:6px; padding:4px 12px; border:1px solid var(--border); border-radius:20px; font-size:11px; color:var(--text-muted); }
    .badge.verified { border-color:rgba(106,173,116,0.4); color:#6aad74; }

    /* Tabs */
    .tabs-bar { display:flex; border-bottom:1px solid var(--border); padding:0 40px; position:sticky; top:69px; z-index:30; background:rgba(14,26,19,0.92); backdrop-filter:blur(12px); overflow-x:auto; }
    .tabs-bar::-webkit-scrollbar { display:none; }
    .tab-btn { display:flex; align-items:center; gap:8px; padding:15px 18px; background:none; border:none; border-bottom:2px solid transparent; color:var(--text-muted); font-family:'DM Sans',sans-serif; font-size:12px; letter-spacing:0.1em; text-transform:uppercase; cursor:none; transition:all 0.25s; white-space:nowrap; margin-bottom:-1px; }
    .tab-btn:hover { color:var(--cream); }
    .tab-btn.active { color:var(--gold); border-bottom-color:var(--gold); }

    /* Sections */
    .sections-wrap { padding:32px 40px; }
    .profile-section { display:none; animation:fadeUp 0.4s ease both; }
    .profile-section.active { display:block; }

    /* Section heading */
    .section-heading { display:flex; align-items:center; gap:12px; margin-bottom:24px; }
    .section-heading-icon { width:36px; height:36px; border-radius:50%; border:1px solid var(--border); display:flex; align-items:center; justify-content:center; color:var(--gold); font-size:14px; }
    .section-title { font-family:'Cormorant Garamond',serif; font-size:24px; font-weight:300; color:var(--white); }
    .section-subtitle { font-size:12px; color:var(--text-muted); letter-spacing:0.06em; }

    /* Form card */
    .form-card { background:var(--forest-card); border:1px solid var(--border); border-radius:3px; padding:22px; margin-bottom:18px; }
    .form-card-title { font-size:10px; letter-spacing:0.18em; text-transform:uppercase; color:var(--gold-dim); margin-bottom:18px; display:flex; align-items:center; gap:8px; }
    .form-card-title::before { content:''; display:block; width:16px; height:1px; background:var(--gold-dim); }

    /* Form grid */
    .form-grid { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
    .form-grid.three { grid-template-columns:1fr 1fr 1fr; }
    .field { display:flex; flex-direction:column; gap:6px; }
    .field.span-2 { grid-column:span 2; }
    .field label { font-size:10px; letter-spacing:0.18em; text-transform:uppercase; color:var(--text-muted); }
    .field input, .field select, .field textarea { width:100%; padding:12px 14px; background:rgba(255,255,255,0.03); border:1px solid var(--border); border-radius:2px; color:var(--cream); font-family:'DM Sans',sans-serif; font-size:13px; font-weight:300; outline:none; transition:border-color 0.3s, background 0.3s; -webkit-appearance:none; }
    
    /* Read-only styling */
    .field input:read-only, .field select:disabled, .field textarea:read-only {
      background:rgba(255,255,255,0.01);
      border-color:rgba(200,169,110,0.08);
      color:var(--cream-dim);
      cursor:default;
      pointer-events:none;
    }
    
    .field select { background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%237a8c73' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right 12px center; padding-right:36px; cursor:none; }
    .field select option { background:#1a2b1d; }
    .field textarea { resize:vertical; min-height:80px; line-height:1.6; }
    .field input::placeholder, .field textarea::placeholder { color:rgba(196,186,168,0.28); }
    .field input:focus:not(:read-only), .field select:focus:not(:disabled), .field textarea:focus:not(:read-only) { border-color:rgba(200,169,110,0.45); background:rgba(200,169,110,0.04); }

    /* Emergency contacts */
    .contact-card { background:rgba(220,80,70,0.04); border:1px solid rgba(220,80,70,0.15); border-radius:3px; padding:18px; }
    .contact-card + .contact-card { margin-top:12px; }
    .contact-card-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:14px; }
    .contact-num { font-size:10px; letter-spacing:0.2em; text-transform:uppercase; color:var(--red); }
    .contact-required { font-size:10px; color:var(--red); opacity:0.7; }
    .btn-remove-contact { background:none; border:none; color:var(--text-muted); font-size:11px; letter-spacing:0.1em; text-transform:uppercase; cursor:none; transition:color 0.2s; font-family:'DM Sans',sans-serif; display:none; }
    .btn-remove-contact.active { display:block; }
    .btn-remove-contact:hover { color:var(--red); }

    /* Transport tags */
    .transport-options { display:flex; flex-wrap:wrap; gap:8px; }
    .transport-tag { display:inline-flex; align-items:center; gap:7px; padding:8px 14px; background:rgba(255,255,255,0.03); border:1px solid var(--border); border-radius:2px; color:var(--text-muted); font-size:12px; cursor:none; transition:all 0.25s; user-select:none; pointer-events:none; }
    .transport-tag.editable { pointer-events:auto; }
    .transport-tag.editable:hover { border-color:var(--border-hover); color:var(--cream); }
    .transport-tag.selected { background:rgba(200,169,110,0.1); border-color:rgba(200,169,110,0.45); color:var(--gold); }

    /* Destination tags */
    .dest-tags { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:12px; min-height:32px; }
    .dest-tag { display:inline-flex; align-items:center; gap:8px; padding:6px 12px; background:rgba(200,169,110,0.07); border:1px solid rgba(200,169,110,0.2); border-radius:2px; color:var(--cream-dim); font-size:12px; }
    .dest-tag-remove { background:none; border:none; color:var(--text-muted); font-size:13px; cursor:none; padding:0; line-height:1; transition:color 0.2s; display:none; }
    .dest-tag-remove.active { display:block; }
    .dest-tag-remove:hover { color:var(--red); }
    .dest-add-row { display:flex; gap:10px; align-items:center; display:none; }
    .dest-add-row.active { display:flex; }
    .btn-add { padding:11px 18px; background:rgba(200,169,110,0.1); border:1px solid rgba(200,169,110,0.25); border-radius:2px; color:var(--gold); font-family:'DM Sans',sans-serif; font-size:11px; letter-spacing:0.1em; text-transform:uppercase; cursor:none; transition:all 0.25s; white-space:nowrap; }
    .btn-add:hover { background:rgba(200,169,110,0.18); }

    /* Activity */
    .activity-grid { display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:4px; }
    .activity-card { background:var(--forest-card); border:1px solid var(--border); border-radius:3px; overflow:hidden; transition:border-color 0.25s, transform 0.25s; }
    .activity-card:hover { border-color:var(--border-hover); transform:translateY(-2px); }
    .activity-card-img { width:100%; height:110px; object-fit:cover; filter:brightness(0.75) saturate(0.8); display:block; }
    .activity-card-body { padding:13px 15px; }
    .activity-card-title { font-family:'Cormorant Garamond',serif; font-size:16px; font-weight:300; color:var(--white); margin-bottom:3px; }
    .activity-card-meta { font-size:11px; color:var(--text-muted); }
    .add-trip-card { display:flex; align-items:center; justify-content:center; min-height:160px; border-style:dashed !important; background:rgba(200,169,110,0.03) !important; cursor:none; }
    .add-trip-card:hover { border-color:rgba(200,169,110,0.3) !important; }

    /* Saved */
    .saved-list { display:flex; flex-direction:column; gap:8px; }
    .saved-item { display:flex; align-items:center; gap:12px; padding:12px 14px; background:var(--forest-card); border:1px solid var(--border); border-radius:3px; transition:border-color 0.25s; }
    .saved-item:hover { border-color:var(--border-hover); }
    .saved-icon { width:32px; height:32px; border-radius:50%; border:1px solid var(--border); display:flex; align-items:center; justify-content:center; color:var(--gold); font-size:12px; flex-shrink:0; }
    .saved-name { font-size:13px; color:var(--cream); font-weight:400; flex:1; }
    .saved-meta { font-size:11px; color:var(--text-muted); }
    .icon-btn { background:none; border:none; color:var(--text-muted); cursor:none; font-size:13px; transition:color 0.2s; padding:4px; }
    .icon-btn:hover { color:var(--red); }

    /* Reviews */
    .reviews-list { display:flex; flex-direction:column; gap:12px; }
    .review-item { padding:15px 18px; background:var(--forest-card); border:1px solid var(--border); border-radius:3px; }
    .review-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:7px; }
    .review-dest { font-family:'Cormorant Garamond',serif; font-size:16px; font-weight:300; color:var(--white); }
    .review-stars { color:var(--gold); font-size:12px; letter-spacing:2px; }
    .review-text { font-size:13px; color:var(--cream-dim); line-height:1.6; }
    .review-date { font-size:10px; color:var(--text-muted); margin-top:7px; letter-spacing:0.08em; }

    /* Password strength */
    .pw-strength { display:flex; gap:4px; margin-top:6px; }
    .pw-seg { flex:1; height:2px; background:var(--border); border-radius:2px; transition:background 0.4s; }
    .pw-seg.weak   { background:#e07070; }
    .pw-seg.fair   { background:#e0b060; }
    .pw-seg.strong { background:#6aad74; }
    .pw-label { font-size:10px; color:var(--text-muted); margin-top:4px; letter-spacing:0.1em; transition:color 0.3s; }

    /* Danger zone */
    .danger-zone { border:1px solid rgba(220,80,70,0.25); border-radius:3px; padding:22px; background:rgba(220,80,70,0.04); margin-top:4px; }
    .danger-title { font-size:10px; letter-spacing:0.18em; text-transform:uppercase; color:var(--red); margin-bottom:12px; display:flex; align-items:center; gap:8px; }
    .danger-title::before { content:''; display:block; width:16px; height:1px; background:var(--red); }
    .danger-desc { font-size:13px; color:var(--cream-dim); margin-bottom:18px; line-height:1.6; }
    .danger-actions { display:flex; gap:10px; flex-wrap:wrap; }
    .btn-danger { padding:10px 20px; background:rgba(220,80,70,0.1); border:1px solid rgba(220,80,70,0.3); border-radius:2px; color:var(--red); font-family:'DM Sans',sans-serif; font-size:11px; letter-spacing:0.1em; text-transform:uppercase; cursor:none; transition:all 0.25s; }
    .btn-danger:hover { background:rgba(220,80,70,0.2); border-color:rgba(220,80,70,0.55); }
    .btn-danger.hard { border-color:rgba(200,50,50,0.4); color:#e05050; }
    .btn-danger.hard:hover { background:rgba(200,50,50,0.18); }

    .divider { height:1px; background:var(--border); margin:20px 0; }

    /* Toast */
    #sf-toast { position:fixed; top:24px; right:24px; padding:12px 18px; border-radius:3px; z-index:9000; font-family:'DM Sans',sans-serif; font-size:13px; font-weight:300; max-width:300px; pointer-events:none; box-shadow:0 8px 32px rgba(0,0,0,0.4); }
    @keyframes toastIn  { from{opacity:0;transform:translateX(30px)} to{opacity:1;transform:translateX(0)} }
    @keyframes toastOut { from{opacity:1;transform:translateX(0)}    to{opacity:0;transform:translateX(30px)} }

    @media(max-width:900px){
      .form-grid,.form-grid.three{grid-template-columns:1fr;}
      .activity-grid{grid-template-columns:1fr;}
      .field.span-2{grid-column:span 1;}
      .sections-wrap{padding:24px;}
      .profile-header,.tabs-bar,.profile-hero{padding-left:24px;padding-right:24px;}
    }
  </style>
</head>
<body>

<div class="cursor" id="cursor"></div>
<div class="cursor-ring" id="cursorRing"></div>

<!-- SIDEBAR -->
<aside class="sidebar">
  <a href="dashboard.html" class="logo-container">
    <div class="logo-icon"><i class="fas fa-globe"></i></div>
    <span class="logo-text">Safario</span>
  </a>
  <nav class="nav-menu">
    <div class="nav-label">Navigation</div>
    <a href="dashboard.html" class="nav-item"><i class="fas fa-map-marked-alt"></i><span>Explore</span></a>
    <a href="dashboard.html" class="nav-item"><i class="fas fa-user-friends"></i><span>Buddies</span></a>
    <a href="dashboard.html" class="nav-item"><i class="fas fa-route"></i><span>Safe Routes</span></a>
    <a href="dashboard.html" class="nav-item"><i class="fas fa-language"></i><span>Translate</span></a>
    <a href="profile.html"   class="nav-item active"><i class="fas fa-user"></i><span>Profile</span></a>
  </nav>
  <div class="sidebar-footer">
    <button class="sos-button"><i class="fas fa-exclamation-triangle"></i><span>SOS Mode</span></button>
  </div>
</aside>

<!-- MAIN -->
<main class="main-content">

  <!-- Header -->
  <header class="profile-header">
    <div class="header-left">
      <span class="header-eyebrow">Your account</span>
      <h1 class="header-title">Your <em>Profile</em></h1>
    </div>
    <div class="header-actions">
      <a href="dashboard.html" class="btn-back"><i class="fas fa-arrow-left"></i> Dashboard</a>
      <button class="btn-edit" id="editBtn" onclick="enableEditMode()"><span><i class="fas fa-pen"></i> Edit Profile</span></button>
      <div class="edit-mode-buttons" id="editModeButtons">
        <button class="btn-cancel" onclick="cancelEdit()"><span>Cancel</span></button>
        <button class="btn-save" onclick="saveProfile()"><span>Save Changes</span></button>
      </div>
    </div>
  </header>

  <!-- Profile Hero -->
  <div class="profile-hero">
    <div class="avatar-wrapper">
      <div class="avatar-circle" id="avatarCircle">JD</div>
      <button class="avatar-edit" id="avatarEditBtn" onclick="document.getElementById('avatarUpload').click()">
        <i class="fas fa-pen"></i>
      </button>
      <input type="file" id="avatarUpload" accept="image/*" style="display:none" onchange="previewAvatar(this)">
    </div>
    <div>
      <div class="profile-name" id="heroName">Jane Doe</div>
      <div class="profile-username" id="heroUsername">@janedoe</div>
      <div class="profile-badges">
        <span class="badge verified"><i class="fas fa-check-circle"></i> Verified Traveler</span>
        <span class="badge"><i class="fas fa-map-marker-alt"></i> <span id="heroBadgeLocation">Thiruvananthapuram, IN</span></span>
        <span class="badge"><i class="fas fa-suitcase"></i> 12 Countries</span>
      </div>
    </div>
  </div>

  <!-- Tabs -->
  <div class="tabs-bar">
    <button class="tab-btn active"  onclick="switchTab('personal',this)"><i class="fas fa-user"></i> Personal</button>
    <button class="tab-btn"         onclick="switchTab('emergency',this)"><i class="fas fa-heartbeat"></i> Emergency</button>
    <button class="tab-btn"         onclick="switchTab('travel',this)"><i class="fas fa-compass"></i> Travel Prefs</button>
    <button class="tab-btn"         onclick="switchTab('activity',this)"><i class="fas fa-history"></i> Activity</button>
    <button class="tab-btn"         onclick="switchTab('account',this)"><i class="fas fa-cog"></i> Account</button>
  </div>

  <div class="sections-wrap">

    <!-- ‚ë†  PERSONAL DETAILS -->
    <div class="profile-section active" id="section-personal">
      <div class="section-heading">
        <div class="section-heading-icon"><i class="fas fa-user"></i></div>
        <div>
          <h2 class="section-title">Personal Details</h2>
          <p class="section-subtitle">Your identity on Safario</p>
        </div>
      </div>
      <div class="form-card">
        <div class="form-card-title">Basic Information</div>
        <div class="form-grid">
          <div class="field">
            <label>First Name</label>
            <input type="text" id="firstName" value="Jane" readonly oninput="updateHero()">
          </div>
          <div class="field">
            <label>Last Name</label>
            <input type="text" id="lastName" value="Doe" readonly oninput="updateHero()">
          </div>
          <div class="field span-2">
            <label>Full Name (as on ID)</label>
            <input type="text" id="fullName" value="Jane Alexandra Doe" readonly>
          </div>
          <div class="field">
            <label>Username</label>
            <input type="text" id="username" value="janedoe" readonly oninput="updateHeroUsername()">
          </div>
          <div class="field">
            <label>Email Address</label>
            <input type="email" id="email" value="jane@example.com" readonly>
          </div>
          <div class="field">
            <label>Phone Number</label>
            <input type="tel" id="phone" placeholder="+91 98765 43210" readonly>
          </div>
          <div class="field">
            <label>Date of Birth</label>
            <input type="date" id="dob" value="1995-06-15" readonly>
          </div>
          <div class="field span-2">
            <label>Location</label>
            <input type="text" id="location" value="Thiruvananthapuram, Kerala, India" readonly oninput="updateHeroLocation()">
          </div>
          <div class="field span-2">
            <label>Short Bio</label>
            <textarea id="bio" readonly>Adventure seeker. 12 countries down, the world to go.</textarea>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ë°  EMERGENCY DETAILS -->
    <div class="profile-section" id="section-emergency">
      <div class="section-heading">
        <div class="section-heading-icon"><i class="fas fa-heartbeat"></i></div>
        <div>
          <h2 class="section-title">Emergency Details</h2>
          <p class="section-subtitle">Minimum 3 emergency contacts required</p>
        </div>
      </div>

      <div class="form-card">
        <div class="form-card-title">Medical Information</div>
        <div class="form-grid three">
          <div class="field">
            <label>Blood Group</label>
            <select id="bloodGroup" disabled>
              <option>Select‚Ä¶</option>
              <option>A+</option><option>A-</option>
              <option selected>B+</option><option>B-</option>
              <option>AB+</option><option>AB-</option>
              <option>O+</option><option>O-</option>
            </select>
          </div>
          <div class="field">
            <label>Known Allergies</label>
            <input type="text" id="allergies" placeholder="e.g. Penicillin, Nuts" readonly>
          </div>
          <div class="field">
            <label>Medical Insurance ID</label>
            <input type="text" id="medInsurance" placeholder="INS-XXXXXXXX" readonly>
          </div>
          <div class="field span-2">
            <label>Medical Conditions</label>
            <textarea id="medCondition" placeholder="List any chronic conditions, medications, or notes‚Ä¶" readonly>None</textarea>
          </div>
        </div>
      </div>

      <div class="form-card">
        <div class="form-card-title">Emergency Contacts <span style="color:var(--red);margin-left:4px;">‚Äî 3 required</span></div>
        <div id="contactsList">

          <div class="contact-card">
            <div class="contact-card-header">
              <span class="contact-num">Contact 01</span>
              <span class="contact-required">‚òÖ Required</span>
            </div>
            <div class="form-grid three">
              <div class="field"><label>Full Name</label><input type="text" value="Priya Doe" readonly></div>
              <div class="field"><label>Relationship</label>
                <select disabled><option>Mother</option><option>Father</option><option>Sibling</option><option>Spouse</option><option>Friend</option><option>Other</option></select>
              </div>
              <div class="field"><label>Phone</label><input type="tel" value="+91 99887 76655" readonly></div>
            </div>
          </div>

          <div class="contact-card">
            <div class="contact-card-header">
              <span class="contact-num">Contact 02</span>
              <span class="contact-required">‚òÖ Required</span>
            </div>
            <div class="form-grid three">
              <div class="field"><label>Full Name</label><input type="text" value="Rajan Doe" readonly></div>
              <div class="field"><label>Relationship</label>
                <select disabled><option>Mother</option><option selected>Father</option><option>Sibling</option><option>Spouse</option><option>Friend</option><option>Other</option></select>
              </div>
              <div class="field"><label>Phone</label><input type="tel" value="+91 88776 65544" readonly></div>
            </div>
          </div>

          <div class="contact-card">
            <div class="contact-card-header">
              <span class="contact-num">Contact 03</span>
              <span class="contact-required">‚òÖ Required</span>
            </div>
            <div class="form-grid three">
              <div class="field"><label>Full Name</label><input type="text" placeholder="Contact name" readonly></div>
              <div class="field"><label>Relationship</label>
                <select disabled><option>Mother</option><option>Father</option><option>Sibling</option><option>Spouse</option><option selected>Friend</option><option>Other</option></select>
              </div>
              <div class="field"><label>Phone</label><input type="tel" placeholder="+91 XXXXX XXXXX" readonly></div>
            </div>
          </div>

        </div>
        <button class="btn-add" id="addContactBtn" style="margin-top:14px;display:none;align-items:center;gap:7px;" onclick="addContact()">
          <i class="fas fa-plus"></i> Add Another Contact
        </button>
      </div>
    </div>

    <!-- ‚ë¢  TRAVEL PREFERENCES -->
    <div class="profile-section" id="section-travel">
      <div class="section-heading">
        <div class="section-heading-icon"><i class="fas fa-compass"></i></div>
        <div>
          <h2 class="section-title">Travel Preferences</h2>
          <p class="section-subtitle">How and where you like to explore</p>
        </div>
      </div>

      <div class="form-card">
        <div class="form-card-title">Frequent Destinations</div>
        <div id="destTags" class="dest-tags">
          <span class="dest-tag">üáØüáµ Tokyo <button class="dest-tag-remove" onclick="removeTag(this)">√ó</button></span>
          <span class="dest-tag">üá´üá∑ Paris <button class="dest-tag-remove" onclick="removeTag(this)">√ó</button></span>
          <span class="dest-tag">üá∏üá¨ Singapore <button class="dest-tag-remove" onclick="removeTag(this)">√ó</button></span>
        </div>
        <div class="dest-add-row" id="destAddRow">
          <div class="field" style="flex:1;margin:0">
            <input type="text" id="newDest" placeholder="Type a destination and press Enter‚Ä¶" onkeypress="if(event.key==='Enter')addDest()">
          </div>
          <button class="btn-add" onclick="addDest()">+ Add</button>
        </div>
      </div>

      <div class="form-card">
        <div class="form-card-title">Preferred Transport Modes ‚Äî click to select</div>
        <div class="transport-options" id="transportOptions">
          <div class="transport-tag selected" onclick="toggleTransport(this)"><i class="fas fa-plane"></i> Flight</div>
          <div class="transport-tag"          onclick="toggleTransport(this)"><i class="fas fa-train"></i> Train</div>
          <div class="transport-tag selected" onclick="toggleTransport(this)"><i class="fas fa-bus"></i> Bus</div>
          <div class="transport-tag"          onclick="toggleTransport(this)"><i class="fas fa-car"></i> Car / Taxi</div>
          <div class="transport-tag"          onclick="toggleTransport(this)"><i class="fas fa-ship"></i> Ferry</div>
          <div class="transport-tag"          onclick="toggleTransport(this)"><i class="fas fa-motorcycle"></i> Motorbike</div>
          <div class="transport-tag"          onclick="toggleTransport(this)"><i class="fas fa-bicycle"></i> Bicycle</div>
          <div class="transport-tag"          onclick="toggleTransport(this)"><i class="fas fa-walking"></i> Walking</div>
        </div>

        <div class="divider"></div>

        <div class="form-card-title" style="margin-bottom:14px;">Additional Preferences</div>
        <div class="form-grid">
          <div class="field">
            <label>Primary Transport Mode</label>
            <select id="primaryTransport" disabled>
              <option value="">Select‚Ä¶</option>
              <option value="flight" selected>‚úàÔ∏è  Flight</option>
              <option value="train">üöÜ  Train</option>
              <option value="bus">üöå  Bus</option>
              <option value="car">üöó  Car / Taxi</option>
              <option value="ferry">‚õ¥  Ferry</option>
              <option value="motorbike">üèç  Motorbike</option>
              <option value="bicycle">üö≤  Bicycle</option>
              <option value="walk">üö∂  Walking</option>
            </select>
          </div>
          <div class="field">
            <label>Travel Style</label>
            <select id="travelStyle" disabled>
              <option selected>Solo Explorer</option>
              <option>With Buddy</option>
              <option>Group Travel</option>
              <option>Family</option>
            </select>
          </div>
          <div class="field">
            <label>Trip Frequency</label>
            <select id="tripFreq" disabled>
              <option>Monthly</option>
              <option selected>Quarterly</option>
              <option>Twice a year</option>
              <option>Annually</option>
            </select>
          </div>
          <div class="field">
            <label>Typical Budget</label>
            <select id="budget" disabled>
              <option>Budget traveler</option>
              <option selected>Mid-range</option>
              <option>Luxury</option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ë£  ACTIVITY -->
    <div class="profile-section" id="section-activity">
      <div class="section-heading">
        <div class="section-heading-icon"><i class="fas fa-history"></i></div>
        <div>
          <h2 class="section-title">Activity</h2>
          <p class="section-subtitle">Your trips, saved spots &amp; reviews</p>
        </div>
      </div>

      <div class="form-card">
        <div class="form-card-title">Recent Trips</div>
        <div class="activity-grid">
          <div class="activity-card">
            <img src="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=500&q=70" class="activity-card-img" alt="Kyoto">
            <div class="activity-card-body">
              <div class="activity-card-title">Kyoto, Japan</div>
              <div class="activity-card-meta">Dec 2024 ¬∑ 8 days ¬∑ Solo</div>
            </div>
          </div>
          <div class="activity-card">
            <img src="https://images.unsplash.com/photo-1528181304800-259b08848526?w=500&q=70" class="activity-card-img" alt="Paris">
            <div class="activity-card-body">
              <div class="activity-card-title">Paris, France</div>
              <div class="activity-card-meta">Sep 2024 ¬∑ 5 days ¬∑ With buddy</div>
            </div>
          </div>
          <div class="activity-card">
            <img src="https://images.unsplash.com/photo-1513407030348-c983a97b98d8?w=500&q=70" class="activity-card-img" alt="Tokyo">
            <div class="activity-card-body">
              <div class="activity-card-title">Tokyo, Japan</div>
              <div class="activity-card-meta">Jun 2024 ¬∑ 10 days ¬∑ Solo</div>
            </div>
          </div>
          <div class="activity-card add-trip-card">
            <div style="text-align:center;color:var(--text-muted)">
              <i class="fas fa-plus" style="font-size:20px;display:block;margin-bottom:7px;color:var(--gold-dim)"></i>
              <span style="font-size:11px;letter-spacing:0.12em;text-transform:uppercase">Log a trip</span>
            </div>
          </div>
        </div>
      </div>

      <div class="form-card">
        <div class="form-card-title">Saved Locations</div>
        <div class="saved-list">
          <div class="saved-item">
            <div class="saved-icon"><i class="fas fa-bookmark"></i></div>
            <div style="flex:1">
              <div class="saved-name">Fushimi Inari Taisha</div>
              <div class="saved-meta">Kyoto, Japan ¬∑ Saved Jan 2025</div>
            </div>
            <button class="icon-btn"><i class="fas fa-trash-alt"></i></button>
          </div>
          <div class="saved-item">
            <div class="saved-icon"><i class="fas fa-bookmark"></i></div>
            <div style="flex:1">
              <div class="saved-name">Montmartre District</div>
              <div class="saved-meta">Paris, France ¬∑ Saved Oct 2024</div>
            </div>
            <button class="icon-btn"><i class="fas fa-trash-alt"></i></button>
          </div>
          <div class="saved-item">
            <div class="saved-icon"><i class="fas fa-bookmark"></i></div>
            <div style="flex:1">
              <div class="saved-name">Shibuya Crossing</div>
              <div class="saved-meta">Tokyo, Japan ¬∑ Saved Jul 2024</div>
            </div>
            <button class="icon-btn"><i class="fas fa-trash-alt"></i></button>
          </div>
        </div>
      </div>

      <div class="form-card">
        <div class="form-card-title">Reviews Given</div>
        <div class="reviews-list">
          <div class="review-item">
            <div class="review-header">
              <span class="review-dest">Fushimi Inari Taisha</span>
              <span class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
            </div>
            <p class="review-text">Absolutely magical at sunrise. Minimal crowds, golden light ‚Äî pure serenity. The upper trails are worth every step.</p>
            <div class="review-date">Reviewed ¬∑ Dec 2024</div>
          </div>
          <div class="review-item">
            <div class="review-header">
              <span class="review-dest">Le Marais, Paris</span>
              <span class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
            </div>
            <p class="review-text">Fantastic neighbourhood for walking. Loved the mix of history and contemporary art. Can get busy on weekends.</p>
            <div class="review-date">Reviewed ¬∑ Sep 2024</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ‚ë§  ACCOUNT SETTINGS -->
    <div class="profile-section" id="section-account">
      <div class="section-heading">
        <div class="section-heading-icon"><i class="fas fa-cog"></i></div>
        <div>
          <h2 class="section-title">Account Settings</h2>
          <p class="section-subtitle">Security, privacy &amp; account control</p>
        </div>
      </div>

      <div class="form-card">
        <div class="form-card-title">Change Password</div>
        <div class="form-grid">
          <div class="field span-2">
            <label>Current Password</label>
            <input type="password" id="currentPw" placeholder="Enter current password" readonly>
          </div>
          <div class="field">
            <label>New Password</label>
            <input type="password" id="newPw" placeholder="Min. 8 characters" readonly oninput="checkPwStrength(this.value)">
            <div class="pw-strength">
              <div class="pw-seg" id="ps1"></div>
              <div class="pw-seg" id="ps2"></div>
              <div class="pw-seg" id="ps3"></div>
              <div class="pw-seg" id="ps4"></div>
            </div>
            <div class="pw-label" id="pwLabel"></div>
          </div>
          <div class="field">
            <label>Confirm New Password</label>
            <input type="password" id="confirmPw" placeholder="Re-enter new password" readonly>
          </div>
        </div>
        <button class="btn-save" id="updatePwBtn" style="margin-top:18px;display:none;" onclick="changePassword()">
          <span>Update Password</span>
        </button>
      </div>

      <div class="form-card">
        <div class="form-card-title">Privacy &amp; Visibility</div>
        <div class="form-grid">
          <div class="field">
            <label>Profile Visibility</label>
            <select id="profileVis" disabled>
              <option>Public ‚Äî All travelers</option>
              <option selected>Verified users only</option>
              <option>My buddies only</option>
              <option>Private</option>
            </select>
          </div>
          <div class="field">
            <label>Location Sharing</label>
            <select id="locShare" disabled>
              <option>Always on</option>
              <option selected>During trips only</option>
              <option>Off</option>
            </select>
          </div>
        </div>
      </div>

      <div class="danger-zone">
        <div class="danger-title">Danger Zone</div>
        <p class="danger-desc">These actions are permanent and cannot be undone. Please be certain before proceeding.</p>
        <div class="danger-actions">
          <button class="btn-danger" onclick="deactivateAccount()">
            <i class="fas fa-pause-circle" style="margin-right:6px"></i>Deactivate Account
          </button>
          <button class="btn-danger hard" onclick="deleteAccount()">
            <i class="fas fa-trash" style="margin-right:6px"></i>Delete Account Permanently
          </button>
        </div>
      </div>
    </div>

  </div><!-- /sections-wrap -->
</main>

<script>
  /* Cursor */
  const cursor = document.getElementById('cursor');
  const ring   = document.getElementById('cursorRing');
  let mx=0,my=0,rx=0,ry=0;
  document.addEventListener('mousemove',e=>{ mx=e.clientX; my=e.clientY; cursor.style.left=mx+'px'; cursor.style.top=my+'px'; });
  (function loop(){ rx+=(mx-rx)*0.12; ry+=(my-ry)*0.12; ring.style.left=rx+'px'; ring.style.top=ry+'px'; requestAnimationFrame(loop); })();
  document.querySelectorAll('a,button,input,select,textarea,.transport-tag').forEach(el=>{
    el.addEventListener('mouseenter',()=>{ ring.style.transform='translate(-50%,-50%) scale(1.4)'; ring.style.borderColor='rgba(200,169,110,0.7)'; });
    el.addEventListener('mouseleave',()=>{ ring.style.transform='translate(-50%,-50%) scale(1)';   ring.style.borderColor='rgba(200,169,110,0.4)'; });
  });

  /* Edit Mode */
  let isEditMode = false;
  
  function enableEditMode() {
    isEditMode = true;
    
    // Hide edit button, show save/cancel
    document.getElementById('editBtn').style.display = 'none';
    document.getElementById('editModeButtons').classList.add('active');
    
    // Enable all inputs
    document.querySelectorAll('input[readonly], textarea[readonly]').forEach(el => {
      el.removeAttribute('readonly');
    });
    
    document.querySelectorAll('select[disabled]').forEach(el => {
      el.removeAttribute('disabled');
    });
    
    // Show avatar edit button
    document.getElementById('avatarEditBtn').classList.add('active');
    
    // Enable transport tags
    document.querySelectorAll('.transport-tag').forEach(el => {
      el.classList.add('editable');
    });
    
    // Show destination add row
    document.getElementById('destAddRow').classList.add('active');
    
    // Show destination remove buttons
    document.querySelectorAll('.dest-tag-remove').forEach(el => {
      el.classList.add('active');
    });
    
    // Show add contact button
    document.getElementById('addContactBtn').style.display = 'flex';
    
    // Show contact remove buttons (except first 3)
    document.querySelectorAll('.btn-remove-contact').forEach(el => {
      el.classList.add('active');
    });
    
    // Show update password button
    document.getElementById('updatePwBtn').style.display = 'inline-flex';
    
    toast('Edit mode enabled ‚ú¶', 'default');
  }
  
  function cancelEdit() {
    isEditMode = false;
    
    // Show edit button, hide save/cancel
    document.getElementById('editBtn').style.display = 'inline-flex';
    document.getElementById('editModeButtons').classList.remove('active');
    
    // Disable all inputs
    document.querySelectorAll('input:not([type="file"]), textarea').forEach(el => {
      el.setAttribute('readonly', 'true');
    });
    
    document.querySelectorAll('select').forEach(el => {
      el.setAttribute('disabled', 'true');
    });
    
    // Hide avatar edit button
    document.getElementById('avatarEditBtn').classList.remove('active');
    
    // Disable transport tags
    document.querySelectorAll('.transport-tag').forEach(el => {
      el.classList.remove('editable');
    });
    
    // Hide destination add row
    document.getElementById('destAddRow').classList.remove('active');
    
    // Hide destination remove buttons
    document.querySelectorAll('.dest-tag-remove').forEach(el => {
      el.classList.remove('active');
    });
    
    // Hide add contact button
    document.getElementById('addContactBtn').style.display = 'none';
    
    // Hide contact remove buttons
    document.querySelectorAll('.btn-remove-contact').forEach(el => {
      el.classList.remove('active');
    });
    
    // Hide update password button
    document.getElementById('updatePwBtn').style.display = 'none';
    
    // TODO: Reset all fields to original values
    toast('Changes cancelled', 'error');
  }

  /* Tabs */
  function switchTab(id, btn) {
    document.querySelectorAll('.profile-section').forEach(s=>s.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
    document.getElementById('section-'+id).classList.add('active');
    btn.classList.add('active');
  }

  /* Live hero updates */
  function updateHero() {
    if(!isEditMode) return;
    const fn = document.getElementById('firstName').value;
    const ln = document.getElementById('lastName').value;
    const full = (fn+' '+ln).trim();
    document.getElementById('heroName').textContent = full || 'Your Name';
    document.getElementById('avatarCircle').textContent = ((fn[0]||'')+(ln[0]||'')).toUpperCase() || 'JD';
  }
  function updateHeroUsername() {
    if(!isEditMode) return;
    document.getElementById('heroUsername').textContent = '@'+(document.getElementById('username').value||'username');
  }
  function updateHeroLocation() {
    if(!isEditMode) return;
    document.getElementById('heroBadgeLocation').textContent = document.getElementById('location').value||'Location';
  }

  /* Avatar preview */
  function previewAvatar(input) {
    if (input.files && input.files[0]) {
      const reader = new FileReader();
      reader.onload = e => {
        const c = document.getElementById('avatarCircle');
        c.style.backgroundImage=`url(${e.target.result})`; c.style.backgroundSize='cover'; c.style.backgroundPosition='center'; c.textContent='';
      };
      reader.readAsDataURL(input.files[0]);
    }
  }

  /* Destination tags */
  function addDest() {
    if(!isEditMode) return;
    const inp = document.getElementById('newDest');
    const val = inp.value.trim(); if(!val) return;
    const tag = document.createElement('span'); tag.className='dest-tag';
    tag.innerHTML=`${val} <button class="dest-tag-remove active" onclick="removeTag(this)">√ó</button>`;
    document.getElementById('destTags').appendChild(tag);
    inp.value=''; toast('Destination added ‚ú¶','success');
  }
  function removeTag(btn) { 
    if(!isEditMode) return;
    btn.closest('.dest-tag').remove(); 
  }

  /* Transport */
  function toggleTransport(el) { 
    if(!isEditMode) return;
    el.classList.toggle('selected'); 
  }

  /* Emergency contacts */
  let contactCount = 3;

  function addContact() {
    if(!isEditMode) return;
    contactCount++;

    const card = document.createElement('div');
    card.className = 'contact-card';

    card.innerHTML = `
      <div class="contact-card-header">
        <span class="contact-num">Contact ${contactCount.toString().padStart(2,'0')}</span>
        <button class="btn-remove-contact active" onclick="this.closest('.contact-card').remove()">Remove</button>
      </div>

      <div class="form-grid three">
        <div class="field">
          <label>Full Name</label>
          <input type="text" placeholder="Contact name">
        </div>

        <div class="field">
          <label>Relationship</label>
          <select>
            <option>Mother</option>
            <option>Father</option>
            <option>Sibling</option>
            <option>Spouse</option>
            <option>Friend</option>
            <option>Other</option>
          </select>
        </div>

        <div class="field">
          <label>Phone</label>
          <input type="tel" placeholder="+91 XXXXX XXXXX">
        </div>
      </div>
    `;

    document.getElementById('contactsList').appendChild(card);
    toast('Emergency contact added ‚ú¶', 'success');
  }

  /* Password strength */
  function checkPwStrength(val) {
    if(!isEditMode) return;
    const segs=[1,2,3,4].map(i=>document.getElementById('ps'+i));
    const label=document.getElementById('pwLabel');
    let score=0;
    if(val.length>=6) score++; if(val.length>=10) score++;
    if(/[A-Z]/.test(val)&&/[0-9]/.test(val)) score++;
    if(/[^A-Za-z0-9]/.test(val)) score++;
    segs.forEach(s=>s.className='pw-seg');
    if(!val.length){label.textContent='';return;}
    const cls=score<=1?'weak':score<=2?'fair':'strong';
    const txt=score<=1?'Weak':score<=2?'Fair':score===3?'Good':'Strong';
    const clr=score<=1?'#e07070':score<=2?'#e0b060':'#6aad74';
    segs.slice(0,score+1).forEach(s=>s.classList.add(cls));
    label.textContent=txt; label.style.color=clr;
  }

  /* Actions */
  function saveProfile() { 
    // Exit edit mode
    isEditMode = false;
    
    // Show edit button, hide save/cancel
    document.getElementById('editBtn').style.display = 'inline-flex';
    document.getElementById('editModeButtons').classList.remove('active');
    
    // Disable all inputs
    document.querySelectorAll('input:not([type="file"]), textarea').forEach(el => {
      el.setAttribute('readonly', 'true');
    });
    
    document.querySelectorAll('select').forEach(el => {
      el.setAttribute('disabled', 'true');
    });
    
    // Hide avatar edit button
    document.getElementById('avatarEditBtn').classList.remove('active');
    
    // Disable transport tags
    document.querySelectorAll('.transport-tag').forEach(el => {
      el.classList.remove('editable');
    });
    
    // Hide destination add row
    document.getElementById('destAddRow').classList.remove('active');
    
    // Hide destination remove buttons
    document.querySelectorAll('.dest-tag-remove').forEach(el => {
      el.classList.remove('active');
    });
    
    // Hide add contact button
    document.getElementById('addContactBtn').style.display = 'none';
    
    // Hide contact remove buttons
    document.querySelectorAll('.btn-remove-contact').forEach(el => {
      el.classList.remove('active');
    });
    
    // Hide update password button
    document.getElementById('updatePwBtn').style.display = 'none';
    
    toast('Profile saved successfully ‚ú¶','success'); 
  }

  function changePassword() {
    if(!isEditMode) return;
    const cur=document.getElementById('currentPw').value;
    const nw=document.getElementById('newPw').value;
    const conf=document.getElementById('confirmPw').value;
    if(!cur||!nw||!conf){toast('Please fill all password fields.','error');return;}
    if(nw!==conf){toast('New passwords do not match.','error');return;}
    if(nw.length<8){toast('Password must be at least 8 characters.','error');return;}
    toast('Password updated successfully ‚ú¶','success');
    ['currentPw','newPw','confirmPw'].forEach(id=>document.getElementById(id).value='');
  }

  function deactivateAccount() {
    if(confirm('Deactivate your account? You can reactivate it later by logging back in.')) {
      toast('Account deactivated. Redirecting‚Ä¶','error');
      setTimeout(()=>{window.location.href='index.html';},2000);
    }
  }

  function deleteAccount() {
    if(confirm('‚ö†Ô∏è This will permanently delete your account and all data. Cannot be undone. Continue?')) {
      if(confirm('Last chance ‚Äî are you absolutely sure? All trips, buddies and settings will be lost forever.')) {
        toast('Account deleted. Goodbye üåç','error');
        setTimeout(()=>{window.location.href='index.html';},2000);
      }
    }
  }

  /* Toast */
  function toast(msg,type='default') {
    const ex=document.getElementById('sf-toast'); if(ex) ex.remove();
    const c={default:'linear-gradient(135deg,#1e2d1a,#2d4a27)',success:'linear-gradient(135deg,#1e3d2a,#2d5a38)',error:'linear-gradient(135deg,#3d1e1e,#5a2d2d)'};
    const b={default:'rgba(200,169,110,0.35)',success:'rgba(106,173,116,0.45)',error:'rgba(220,100,90,0.45)'};
    const el=document.createElement('div'); el.id='sf-toast';
    el.style.cssText=`background:${c[type]};border:1px solid ${b[type]};color:#f2ead8;animation:toastIn 0.3s ease forwards;`;
    el.textContent=msg; document.body.appendChild(el);
    setTimeout(()=>{el.style.animation='toastOut 0.3s ease forwards';setTimeout(()=>el.remove(),300);},3000);
  }
</script>
</body>
</html>